<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>佩可喵 - 谷语娃包介绍</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Microsoft YaHei', 'SimHei', '黑体', sans-serif;
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            width: 100%;
            max-width: 800px;
            height: 90vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #4facfe, #00f2fe);
            color: white;
            padding: 20px;
            text-align: center;
            position: relative;
        }

        .character-info {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }

        .avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, #a8edea, #fed6e3);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            border: 3px solid white;
        }

        .character-details h2 {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .character-details p {
            font-size: 14px;
            opacity: 0.9;
            font-weight: bold;
        }

        .chat-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .messages {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            background: #fafafa;
        }

        .message {
            margin-bottom: 15px;
            display: flex;
            align-items: flex-start;
            gap: 10px;
            font-weight: bold;
        }

        .message.user {
            flex-direction: row-reverse;
        }

        .message-content {
            max-width: 70%;
            padding: 12px 16px;
            border-radius: 18px;
            font-size: 14px;
            line-height: 1.4;
        }

        .message.character .message-content {
            background: white;
            border: 1px solid #e0e0e0;
            color: #333;
        }

        .message.user .message-content {
            background: linear-gradient(135deg, #4facfe, #00f2fe);
            color: white;
        }

        .quick-buttons {
            padding: 15px 20px;
            background: white;
            border-top: 1px solid #e0e0e0;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .quick-btn {
            padding: 8px 16px;
            background: #f0f0f0;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            font-size: 12px;
            color: #666;
            transition: all 0.3s;
            font-weight: bold;
        }

        .quick-btn:hover {
            background: #4facfe;
            color: white;
        }

        .input-area {
            padding: 20px;
            background: white;
            border-top: 1px solid #e0e0e0;
            display: flex;
            gap: 10px;
        }

        .chat-input {
            flex: 1;
            padding: 12px 16px;
            border: 1px solid #ddd;
            border-radius: 25px;
            font-size: 14px;
            outline: none;
            font-weight: bold;
        }

        .send-btn {
            padding: 12px 24px;
            background: linear-gradient(135deg, #4facfe, #00f2fe);
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
        }

        .quiz-section {
            display: none;
            padding: 20px;
            background: #fafafa;
        }

        .quiz-question {
            background: white;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .quiz-question h3 {
            color: #333;
            margin-bottom: 15px;
            font-size: 16px;
        }

        .quiz-options {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .quiz-option {
            padding: 12px 16px;
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
        }

        .quiz-option:hover {
            background: #4facfe;
            color: white;
            border-color: #4facfe;
        }

        .quiz-option.selected {
            background: #4facfe;
            color: white;
            border-color: #4facfe;
        }

        .quiz-feedback {
            margin-top: 15px;
            padding: 10px;
            border-radius: 8px;
            font-weight: bold;
        }

        .quiz-feedback.correct {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .quiz-feedback.incorrect {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .reward-section {
            display: none;
            padding: 20px;
            text-align: center;
            background: linear-gradient(135deg, #a8edea, #fed6e3);
            color: white;
        }

        .reward-content {
            background: white;
            color: #333;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .reward-content h2 {
            color: #4facfe;
            margin-bottom: 15px;
            font-size: 24px;
        }

        .progress-bar {
            background: #e0e0e0;
            height: 8px;
            border-radius: 4px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress-fill {
            background: linear-gradient(90deg, #4facfe, #00f2fe);
            height: 100%;
            width: 0%;
            transition: width 0.3s ease;
        }

        .progress-text {
            text-align: center;
            font-size: 14px;
            color: #666;
            margin-top: 10px;
            font-weight: bold;
        }

        @media (max-width: 600px) {
            .container {
                height: 100vh;
                border-radius: 0;
            }
            
            .message-content {
                max-width: 85%;
            }
            
            .quick-buttons {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="character-info">
                <div class="avatar">🐱</div>
                <div class="character-details">
                    <h2>佩可喵</h2>
                    <p>桃桃子的研究伙伴</p>
                </div>
            </div>
        </div>

        <div class="chat-container">
            <div class="messages" id="messages">
                <div class="message character">
                    <div class="message-content">
                        喵～我是佩可喵！桃桃子最近在研究一个超有趣的项目，我来帮你了解一下吧！
                    </div>
                </div>
            </div>

            <div class="quick-buttons" id="quickButtons">
                <button class="quick-btn" onclick="askQuestion('你是谁？')">你是谁？</button>
                <button class="quick-btn" onclick="askQuestion('你最近在做什么？')">你最近在做什么？</button>
                <button class="quick-btn" onclick="askQuestion('"谷语娃包"是什么？')">"谷语娃包"是什么？</button>
                <button class="quick-btn" onclick="askQuestion('"谷语娃包"智能在哪里？')">"谷语娃包"智能在哪里？</button>
                <button class="quick-btn" onclick="askQuestion('我也能体验"谷语娃包"吗？')">我也能体验"谷语娃包"吗？</button>
            </div>

            <div class="input-area">
                <input type="text" class="chat-input" id="messageInput" placeholder="输入消息..." onkeypress="handleKeyPress(event)">
                <button class="send-btn" onclick="sendMessage()">发送</button>
            </div>
        </div>

        <div class="quiz-section" id="quizSection">
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="progress-text" id="progressText">答题进度: 0/3</div>
            
            <div class="quiz-question" id="quizQuestion">
                <!-- 问题将在这里动态生成 -->
            </div>
        </div>

        <div class="reward-section" id="rewardSection">
            <div class="reward-content">
                <h2>🎉 恭喜你！</h2>
                <p>不错嘛，记忆力是满分～作为奖励，这个【打卡棒/吧唧套】就送给你了，有任何关于这项研究的想法都要告诉桃桃子哦 (｡◕‿◕｡)</p>
            </div>
        </div>
    </div>

    <script>
        let currentPhase = 'chat'; // chat, quiz, reward
        let correctAnswers = 0;
        let currentQuestionIndex = 0;
        let questionsAnswered = 0;

        const questions = [
            {
                question: "桃桃子是佩可喵的______",
                options: ["宠物猫", "主人", "直系血亲"],
                correct: 1
            },
            {
                question: "佩可喵是一只______",
                options: ["猫咪", "狗狗", "宝〇梦精灵"],
                correct: 0
            },
            {
                question: "桃桃子曾经是______",
                options: ["重生文女主", "校园恋爱游戏女主", "校园恋爱游戏NPC"],
                correct: 2
            },
            {
                question: "桃桃子最近正在积极认识的人群是______",
                options: ["OC人", "同人爱好者", "游戏宅"],
                correct: 0
            },
            {
                question: "桃桃子最近想发明的东西是______",
                options: ["智能娃包", "智能娃娃", "不智能娃包"],
                correct: 0
            },
            {
                question: "桃桃子把她的发明命名为______",
                options: ["谷雨", "谷语", "古语"],
                correct: 1
            },
            {
                question: ""谷语娃包"能够做到的事不包括______",
                options: ["帮助放在里面的娃娃看到外面的世界", "让放在里面的娃娃知道自己在哪里", "让放在里面的娃娃给主人跳舞"],
                correct: 2
            },
            {
                question: ""谷语娃包"能够做到的事不包括______",
                options: ["让放在里面的娃娃记住自己跟主人一起去过的地方", "让里面的娃娃帮主人买单", "以娃娃的视角帮主人拍照"],
                correct: 1
            },
            {
                question: ""谷语娃包"里娃娃的角色______",
                options: ["只能是现成的IP角色", "可以由主人自由创建任何自己想要互动的角色", "不能是非人类角色"],
                correct: 1
            },
            {
                question: "想要体验"谷语娃包"的话应该______",
                options: ["什么都不做只是等待", "加入内测群等待", "抢走正在展示中的娃包"],
                correct: 1
            }
        ];

        const responses = {
            "你是谁？": "我是佩可喵！桃桃子的研究伙伴，一只聪明的小猫咪。我经常帮桃桃子测试她的发明，特别是那个"谷语娃包"项目，我觉得特别有意思！",
            "你最近在做什么？": "最近我在帮桃桃子研究"谷语娃包"的各种功能。作为一只猫，我对这个能让娃娃有"视觉"和"记忆"的发明特别感兴趣，感觉就像给娃娃装上了眼睛和大脑一样！",
            ""谷语娃包"是什么？": "谷语娃包是桃桃子发明的智能娃娃包！它能让娃娃看到外面的世界，知道自己在哪里，还能记住和主人一起去过的地方。最棒的是，娃娃的角色完全由主人自由创作，可以是任何想要互动的角色。作为一只猫，我觉得这个发明真的很神奇！",
            ""谷语娃包"智能在哪里？": "谷语娃包的智能体现在几个方面：首先它能让娃娃有"视觉"，看到外面的世界；其次有"记忆"功能，记住去过的地方；还有"拍照"功能，以娃娃的视角记录美好瞬间。最特别的是，娃娃的角色完全由主人自由创作，不限于现成的IP。我觉得这就像给娃娃装上了大脑！",
            "我也能体验"谷语娃包"吗？": "当然可以！不过现在还在内测阶段，你可以加入内测群等待体验机会。桃桃子会继续完善这个项目，希望能让更多喜欢娃娃的朋友体验到这种智能互动。作为她的研究伙伴，我保证这个项目会越来越棒！"
        };

        function addMessage(content, isUser = false) {
            const messagesContainer = document.getElementById('messages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${isUser ? 'user' : 'character'}`;
            
            const contentDiv = document.createElement('div');
            contentDiv.className = 'message-content';
            contentDiv.textContent = content;
            
            messageDiv.appendChild(contentDiv);
            messagesContainer.appendChild(contentDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function askQuestion(question) {
            addMessage(question, true);
            
            const response = responses[question];
            if (response) {
                setTimeout(() => {
                    addMessage(response);
                    
                    // 检查是否所有预设问题都问完了
                    if (Object.keys(responses).every(q => 
                        Array.from(document.querySelectorAll('.message-content')).some(el => 
                            el.textContent.includes(q)
                        )
                    )) {
                        setTimeout(() => {
                            startQuiz();
                        }, 1000);
                    }
                }, 500);
            }
        }

        function sendMessage() {
            const input = document.getElementById('messageInput');
            const message = input.value.trim();
            if (message) {
                addMessage(message, true);
                input.value = '';
                
                // 简单的回复逻辑
                setTimeout(() => {
                    if (message.includes('你好') || message.includes('hi')) {
                        addMessage('喵～你好！很高兴认识你！');
                    } else if (message.includes('谢谢')) {
                        addMessage('不客气！有什么想了解的都可以问我～');
                    } else {
                        addMessage('这个问题很有趣！不过我们还是先聊聊"谷语娃包"吧，你想了解什么？');
                    }
                }, 500);
            }
        }

        function handleKeyPress(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }

        function startQuiz() {
            currentPhase = 'quiz';
            document.querySelector('.chat-container').style.display = 'none';
            document.getElementById('quizSection').style.display = 'block';
            
            showNextQuestion();
        }

        function showNextQuestion() {
            if (currentQuestionIndex >= questions.length) {
                // 重新开始问题循环
                currentQuestionIndex = 0;
            }
            
            const question = questions[currentQuestionIndex];
            const quizQuestion = document.getElementById('quizQuestion');
            
            quizQuestion.innerHTML = `
                <h3>${question.question}</h3>
                <div class="quiz-options">
                    ${question.options.map((option, index) => 
                        `<div class="quiz-option" onclick="selectOption(${index})">${option}</div>`
                    ).join('')}
                </div>
                <div class="quiz-feedback" id="quizFeedback" style="display: none;"></div>
            `;
            
            updateProgress();
        }

        function selectOption(selectedIndex) {
            const question = questions[currentQuestionIndex];
            const options = document.querySelectorAll('.quiz-option');
            const feedback = document.getElementById('quizFeedback');
            
            // 移除之前的选择
            options.forEach(opt => opt.classList.remove('selected'));
            options[selectedIndex].classList.add('selected');
            
            // 显示反馈
            if (selectedIndex === question.correct) {
                feedback.textContent = '回答正确！';
                feedback.className = 'quiz-feedback correct';
                correctAnswers++;
            } else {
                feedback.textContent = `回答错误！正确答案是：${question.options[question.correct]}`;
                feedback.className = 'quiz-feedback incorrect';
            }
            
            feedback.style.display = 'block';
            
            // 禁用选项
            options.forEach(opt => opt.style.pointerEvents = 'none');
            
            questionsAnswered++;
            updateProgress();
            
            // 检查是否答对3题
            if (correctAnswers >= 3) {
                setTimeout(() => {
                    showReward();
                }, 2000);
            } else {
                // 2秒后显示下一题
                setTimeout(() => {
                    currentQuestionIndex++;
                    showNextQuestion();
                }, 2000);
            }
        }

        function updateProgress() {
            const progressFill = document.getElementById('progressFill');
            const progressText = document.getElementById('progressText');
            
            const progress = (correctAnswers / 3) * 100;
            progressFill.style.width = progress + '%';
            progressText.textContent = `答题进度: ${correctAnswers}/3`;
        }

        function showReward() {
            currentPhase = 'reward';
            document.getElementById('quizSection').style.display = 'none';
            document.getElementById('rewardSection').style.display = 'block';
        }

        // 初始化
        document.addEventListener('DOMContentLoaded', function() {
            // 可以在这里添加初始化逻辑
        });
    </script>
</body>
</html>
